# üìò ‚Äú–†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–ô–ù–ê –ü–õ–ê–¢–§–û–†–ú–ê –î–õ–Ø

–î–Ü–ê–ì–ù–û–°–¢–£–í–ê–ù–ù–Ø –ó–ê–•–í–û–†–Æ–í–ê–ù–¨‚Äù

---

## üë§ –ê–≤—Ç–æ—Ä

* **–ü–Ü–ë**: –•–∞–≤—Ä–æ–Ω–∞ –í—ñ—Ç–∞–ª—ñ–π –†–æ–º–∞–Ω–æ–≤–∏—á
* **–ì—Ä—É–ø–∞**: –§–µ–ü-42
* **–ö–µ—Ä—ñ–≤–Ω–∏–∫**: –¥–æ—Ü. –°—ñ–Ω—å–∫–µ–≤–∏—á –û–ª–µ–≥ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á
* **–î–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: 11.06.2025

---

## üìå –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

* **–¢–∏–ø –ø—Ä–æ—î–∫—Ç—É:** API / –í–µ–±-—Å–µ—Ä–≤—ñ—Å
* **–ú–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è:** Python
* **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:**

  * FastAPI
  * Uvicorn
  * Transformers
  * TensorFlow
  * PEFT
  * Pydantic

---

## üß† –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

1. –ü—Ä–∏–π–æ–º POST-–∑–∞–ø–∏—Ç—É –∑ –ø–æ–ª–µ–º `symptoms` (–∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–π —Ä—è–¥–æ–∫).
2. –ö–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Å–∏–º–ø—Ç–æ–º—ñ–≤ —É –æ–¥–∏–Ω —ñ–∑ 22 –¥—ñ–∞–≥–Ω–æ–∑—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –Ω–∞–≤—á–µ–Ω–æ–≥–æ BERT.
3. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å–ø–∏—Å–∫—É –∑ —Ç—Ä—å–æ—Ö –ø—Ä–µ–ø–∞—Ä–∞—Ç—ñ–≤ —á–µ—Ä–µ–∑ T5 –∑ LoRA-–∞–¥–∞–ø—Ç–µ—Ä–æ–º.
4. –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è JSON –∑ –ø–æ–ª—è–º–∏:

   * `diagnosis`
   * `confidence`
   * `drugs`
   * `recommendations`
   * `self_care`
   * `reason_for_doctor_visit`
5. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Uvicorn —ñ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º.

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

| –§–∞–π–ª / –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è                 | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                                                                  |
| --------------------------------- | ---------------------------------------------------------------------------- |
| `main.py`                         | –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è FastAPI-–¥–æ–¥–∞—Ç–∫—É, —ñ–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–µ–π, —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `/predict` endpoint |
| `model/`                          | –ü–∞–ø–∫–∞ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –Ω–∞–≤—á–µ–Ω–∏–º BERT-–º–æ–¥–µ–ª–ª—é –¥–ª—è –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó                    |
| `T5-medical_Symptom-Diagnoses/`   | LoRA-–∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è T5-–º–æ–¥–µ–ª—ñ, —â–æ –≥–µ–Ω–µ—Ä—É—î –ø–µ—Ä–µ–ª—ñ–∫ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ñ–≤                    |
| `prompts.txt`                     | –ü—Ä–∏–∫–ª–∞–¥–∏ –≤—Ö—ñ–¥–Ω–∏—Ö –ø—Ä–æ–º–ø—Ç—ñ–≤ –¥–ª—è BERT —ñ T5 –º–æ–¥–µ–ª–µ–π                              |
| `recommendations_structured.json` | –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –ø–æ—Ä–∞–¥–∏, —Å–∞–º–æ–¥–æ–ø–æ–º–æ–≥–∞ —Ç–∞ –ø—Ä–∏—á–∏–Ω–∏ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –ª—ñ–∫–∞—Ä—è            |
| `requirements.txt`                | –ü–µ—Ä–µ–ª—ñ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π                                                          |
| `.gitignore`                      | –§–∞–π–ª–∏ —Ç–∞ –ø–∞–ø–∫–∏, —â–æ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è Git                                           |

---

## ‚ñ∂Ô∏è –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. **–ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π**

   ```bash
   git clone https://github.com/Xavtso/medbrat-py.git
   cd medbrat-py
   ```

2. **–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**

   ```bash
   pip install -r requirements.txt
   ```

3. **–†–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –º–æ–¥–µ–ª—ñ**

   * –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø–∞–ø–∫—É `model/` (BERT) —É –∫–æ—Ä—ñ–Ω—å –ø—Ä–æ—î–∫—Ç—É
   * –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø–∞–ø–∫—É `T5-medical_Symptom-Diagnoses/` (LoRA-–∞–¥–∞–ø—Ç–µ—Ä) —É –∫–æ—Ä—ñ–Ω—å –ø—Ä–æ—î–∫—Ç—É

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É

```bash
uvicorn main:app --reload
```

---

## üîå –ü—Ä–∏–∫–ª–∞–¥ API

### POST `/predict`

**–ó–∞–ø–∏—Ç**

```json
{
  "symptoms": "I have itchy, watery eyes and sneezing every time I go outside near flowers or trees."
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å**

```json
{
  "diagnosis": "allergy",
  "confidence": 0.925,
  "drugs": "Cetirizine, Loratadine, Fexofenadine",
  "recommendations": "Avoid allergens and ventilate the room regularly.",
  "self_care": "Take antihistamines if needed and rinse your nose with saline solution.",
  "reason_for_doctor_visit": "If you experience severe swelling, widespread rash, or difficulty breathing."
}
```

---

## üñ±Ô∏è –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è

1. –ù–∞–¥—ñ—à–ª—ñ—Ç—å POST-–∑–∞–ø–∏—Ç –Ω–∞ `/predict` –∑ —Ç—ñ–ª–æ–º

   ```json
   { "symptoms": "<your symptoms>" }
   ```
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ JSON –∑ –¥—ñ–∞–≥–Ω–æ–∑–æ–º, —É–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—é, –ø–µ—Ä–µ–ª—ñ–∫–æ–º –ø—Ä–µ–ø–∞—Ä–∞—Ç—ñ–≤ —Ç–∞ –ø–æ—Ä–∞–¥–∞–º–∏.
3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –æ—Ü—ñ–Ω–∫–∏ —Ç–∞ –ø–æ–¥–∞–ª—å—à–∏—Ö –∫—Ä–æ–∫—ñ–≤.

---

## üß™ –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞                                    | –†—ñ—à–µ–Ω–Ω—è                                                                                  |
| ------------------------------------------- | ---------------------------------------------------------------------------------------- |
| –°–µ—Ä–≤–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É—î —á–µ—Ä–µ–∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –º–æ–¥–µ–ª–µ–π | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–∞–ø–æ–∫ `model/` —Ç–∞ `T5-medical_Symptom-Diagnoses/` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É. |
| –ù–µ—Å—Ç–∞—á–∞ –ø–∞–º‚Äô—è—Ç—ñ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –º–æ–¥–µ–ª–µ–π    | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ CPU –∑–∞–º—ñ—Å—Ç—å GPU –∞–±–æ –∑–º–µ–Ω—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –º–æ–¥–µ–ª–µ–π.                             |
| –ü–æ—Ä–æ–∂–Ω—ñ–π –≤—Ö—ñ–¥–Ω–∏–π —Ä—è–¥–æ–∫ —É `symptoms`         | –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –Ω–∞ –Ω–µ–Ω—É–ª—å–æ–≤—É –¥–æ–≤–∂–∏–Ω—É —Ä—è–¥–∫–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é.                              |

